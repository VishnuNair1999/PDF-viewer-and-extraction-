{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vishn\\\\Desktop\\\\AuthInMern\\\\client\\\\src\\\\components\\\\pdfViewer\\\\pdfViewer.js\";\n\n/* eslint-disable react/jsx-no-undef */\nimport React, { Component } from 'react';\nimport { pdfjs } from 'react-pdf';\nimport axios from 'axios';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\nexport default class PDFViewer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFileInputChange = e => {\n      const file = e.target.files[0];\n\n      if (file) {\n        this.setState({\n          file,\n          pdfName: file.name\n        });\n        const fileReader = new FileReader();\n\n        fileReader.onload = () => {\n          const {\n            result\n          } = fileReader;\n          this.saveFile(result);\n        };\n\n        fileReader.readAsArrayBuffer(file);\n      }\n    };\n\n    this.onDocumentLoadSuccess = _ref => {\n      let {\n        numPages\n      } = _ref;\n      this.setState({\n        numPages\n      });\n    };\n\n    this.saveFile = async fileData => {\n      try {\n        const res = await axios.post('/api/upload', {\n          fileData\n        });\n        console.log(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      numPages: null,\n      file: null,\n      pdfName: ''\n    };\n  }\n\n  componentDidMount() {\n    this.fileInput.current.click();\n  }\n\n  render() {\n    const {\n      numPages,\n      file,\n      pdfName\n    } = this.state; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    const classes = useStyles();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            gutterBottom: true,\n            children: \"Upload a PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            value: pdfName,\n            label: \"PDF Name\",\n            margin: \"normal\",\n            variant: \"outlined\",\n            InputProps: {\n              readOnly: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: this.fileInput,\n            style: {\n              display: 'none'\n            },\n            onChange: this.handleFileInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 26\n            }, this),\n            disabled: !file,\n            onClick: this.handleFileUpload,\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '70vh',\n              border: '1px solid rgba(0, 0, 0, 0.5)'\n            },\n            children: /*#__PURE__*/_jsxDEV(Document, {\n              file: file,\n              onLoadSuccess: this.onDocumentLoadSuccess,\n              children: /*#__PURE__*/_jsxDEV(Page, {\n                pageNumber: 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: [\"Page \", numPages || '--']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/vishn/Desktop/AuthInMern/client/src/components/pdfViewer/pdfViewer.js"],"names":["React","Component","pdfjs","axios","Grid","Typography","TextField","Button","makeStyles","SaveIcon","GlobalWorkerOptions","workerSrc","version","useStyles","theme","button","margin","spacing","PDFViewer","constructor","props","handleFileInputChange","e","file","target","files","setState","pdfName","name","fileReader","FileReader","onload","result","saveFile","readAsArrayBuffer","onDocumentLoadSuccess","numPages","fileData","res","post","console","log","data","err","state","componentDidMount","fileInput","current","click","render","classes","readOnly","display","handleFileUpload","height","border"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-no-undef */\r\nimport React, { Component } from 'react';\r\nimport { pdfjs } from 'react-pdf';\r\nimport axios from 'axios';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n button: {\r\n    margin: theme.spacing(1),\r\n },\r\n}));\r\n\r\nexport default class PDFViewer extends Component {\r\n constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numPages: null,\r\n      file: null,\r\n      pdfName: '',\r\n    };\r\n }\r\n\r\n componentDidMount() {\r\n    this.fileInput.current.click();\r\n }\r\n\r\n handleFileInputChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      this.setState({ file, pdfName: file.name });\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = () => {\r\n        const { result } = fileReader;\r\n        this.saveFile(result);\r\n      };\r\n      fileReader.readAsArrayBuffer(file);\r\n    }\r\n };\r\n\r\n onDocumentLoadSuccess = ({ numPages }) => {\r\n    this.setState({ numPages });\r\n };\r\n\r\n saveFile = async (fileData) => {\r\n    try {\r\n      const res = await axios.post('/api/upload', { fileData });\r\n      console.log(res.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n };\r\n\r\n render() {\r\n    const { numPages, file, pdfName } = this.state;\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const classes = useStyles();\r\n\r\n    return (\r\n      <div>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Upload a PDF\r\n            </Typography>\r\n            <TextField\r\n              fullWidth\r\n              value={pdfName}\r\n              label=\"PDF Name\"\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n            <input\r\n              type=\"file\"\r\n              ref={this.fileInput}\r\n              style={{ display: 'none' }}\r\n              onChange={this.handleFileInputChange}\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              startIcon={<SaveIcon />}\r\n              disabled={!file}\r\n              onClick={this.handleFileUpload}\r\n            >\r\n              Upload\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <div style={{ height: '70vh', border: '1px solid rgba(0, 0, 0, 0.5)' }}>\r\n              <Document\r\n                file={file}\r\n                onLoadSuccess={this.onDocumentLoadSuccess}\r\n              >\r\n                <Page pageNumber={1} />\r\n              </Document>\r\n            </div>\r\n            <div>\r\n              <Typography variant=\"h6\">Page {numPages || '--'}</Typography>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n }\r\n}"]},"metadata":{},"sourceType":"module"}