{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Draggable } from '@progress/kendo-react-common';\nimport { ResizeHandlers } from './ResizeHandlers';\n/**\n * @hidden\n */\n\nvar ANIMATION_DURATION = 200;\n/**\n * @hidden\n */\n\nvar InternalTile =\n/** @class */\nfunction (_super) {\n  __extends(InternalTile, _super);\n\n  function InternalTile() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      rtl: false\n    };\n    _this.oldSize = {};\n    _this.draggable = null;\n    _this.dragging = false;\n    _this.resizing = false;\n    _this.element = null;\n    _this.hintElement = null;\n    _this.ignoreDrag = false;\n    _this.pressOffset = {\n      x: 0,\n      y: 0\n    };\n    _this.pressXY = {\n      x: 0,\n      y: 0\n    };\n    _this.currentTranslate = {\n      x: 0,\n      y: 0\n    };\n    _this.preventDataOps = undefined;\n\n    _this.handleResize = function (e, q) {\n      if (q.end) {\n        _this.handleRelease();\n\n        return;\n      }\n\n      if (!_this.element || !_this.hintElement) {\n        return;\n      }\n\n      var x = e.clientX;\n      var y = e.clientY;\n      _this.resizing = true;\n      var dX = (q.direction !== 'ns' ? x - _this.pressXY.x : 0) * (_this.state.rtl ? -1 : 1);\n      var dY = q.direction !== 'ew' ? y - _this.pressXY.y : 0;\n\n      if (_this.dragElement) {\n        if (_this.state.rtl) {\n          _this.dragElement.style.marginLeft = -dX + 'px';\n        } else {\n          _this.dragElement.style.marginRight = -dX + 'px';\n        }\n\n        _this.dragElement.style.height = \"calc(100% + \".concat(dY, \"px)\");\n      }\n\n      _this.hintElement.classList.add('k-layout-item-hint-resize');\n\n      if (_this.preventDataOps) {\n        return;\n      }\n\n      var col = 0;\n      var row = 0;\n\n      var wrapBox = _this.element.getBoundingClientRect();\n\n      if (dX > wrapBox.width / _this.props.defaultPosition.colSpan / 3) {\n        col = 1;\n      }\n\n      if (dX < -wrapBox.width / _this.props.defaultPosition.colSpan / 1.25) {\n        col = -1;\n      } // vertical\n\n\n      if (dY > wrapBox.height / _this.props.defaultPosition.rowSpan / 3) {\n        row = 1;\n      }\n\n      if (dY < -wrapBox.height / _this.props.defaultPosition.rowSpan / 1.25) {\n        row = -1;\n      }\n\n      if (col !== 0 || row !== 0) {\n        _this.props.update(_this.props.index, 0, 0, row, col);\n      }\n    };\n\n    _this.handlePress = function (e) {\n      if (!_this.dragElement) {\n        return;\n      }\n\n      _this.pressXY = {\n        x: e.event.clientX,\n        y: e.event.clientY\n      };\n      _this.ignoreDrag = false;\n\n      if (_this.props.ignoreDrag && _this.props.ignoreDrag(e.event.originalEvent)) {\n        _this.ignoreDrag = true;\n        return;\n      }\n\n      if (_this.element && _this.hintElement) {\n        _this.element.style.zIndex = '10';\n        _this.hintElement.style.display = 'block';\n      }\n\n      _this.dragElement.classList.remove('k-cursor-grab');\n\n      _this.dragElement.classList.add('k-cursor-grabbing');\n\n      var rec = _this.dragElement.getBoundingClientRect();\n\n      _this.pressOffset = {\n        x: e.event.clientX - rec.x,\n        y: e.event.clientY - rec.y\n      };\n    };\n\n    _this.handleDrag = function (e) {\n      if (_this.ignoreDrag) {\n        return;\n      }\n\n      var dragElement = _this.dragElement;\n\n      if (e.event.originalEvent.defaultPrevented || !dragElement) {\n        return;\n      }\n\n      _this.dragging = true;\n      e.event.originalEvent.preventDefault();\n      var rec = dragElement.getBoundingClientRect();\n      _this.currentTranslate = {\n        x: e.event.clientX - rec.x - _this.pressOffset.x + _this.currentTranslate.x,\n        y: e.event.clientY - rec.y - _this.pressOffset.y + _this.currentTranslate.y\n      };\n      dragElement.style.transform = \"translate(\".concat(_this.currentTranslate.x, \"px, \").concat(_this.currentTranslate.y, \"px)\");\n      dragElement.style.transition = 'transform 0s';\n\n      if (_this.preventDataOps) {\n        return;\n      }\n\n      var col = 0;\n      var row = 0;\n\n      if (_this.currentTranslate.y > 0.7 * rec.height / _this.props.defaultPosition.rowSpan) {\n        row = 1;\n      }\n\n      if (_this.currentTranslate.y < 0.7 * -rec.height / _this.props.defaultPosition.rowSpan) {\n        row = -1;\n      }\n\n      if (_this.currentTranslate.x > 0.7 * rec.width / _this.props.defaultPosition.colSpan) {\n        col = 1;\n      }\n\n      if (_this.currentTranslate.x < 0.7 * -rec.width / _this.props.defaultPosition.colSpan) {\n        col = -1;\n      }\n\n      _this.props.update(_this.props.index, row, _this.state.rtl ? -col : col, 0, 0);\n    };\n\n    _this.handleRelease = function () {\n      _this.dragging = _this.resizing = false;\n      _this.currentTranslate = {\n        x: 0,\n        y: 0\n      };\n\n      if (_this.element && _this.hintElement) {\n        _this.element.style.zIndex = '1';\n\n        _this.hintElement.classList.remove('k-layout-item-hint-resize');\n\n        _this.hintElement.style.display = 'none';\n      }\n\n      var dragElement = _this.dragElement;\n\n      if (dragElement) {\n        dragElement.style.transform = 'translate(0px, 0px)';\n        dragElement.style.transition = \"transform \".concat(ANIMATION_DURATION, \"ms cubic-bezier(0.2, 0, 0, 1) 0s\");\n        dragElement.style.marginRight = '0px';\n        dragElement.style.marginLeft = '0px';\n        dragElement.style.height = '100%';\n        dragElement.classList.remove('k-cursor-grabbing');\n        dragElement.classList.add('k-cursor-grab');\n      }\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(InternalTile.prototype, \"reorderable\", {\n    get: function () {\n      return this.props.reorderable !== undefined ? this.props.reorderable : InternalTile.defaultProps.reorderable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InternalTile.prototype, \"dragElement\", {\n    get: function () {\n      return this.draggable ? this.draggable.element : undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  InternalTile.prototype.componentDidMount = function () {\n    if (!this.element) {\n      return;\n    }\n\n    if (getComputedStyle(this.element).direction === 'rtl') {\n      this.setState({\n        rtl: true\n      });\n    }\n\n    if (this.hintElement) {\n      this.hintElement.style.height = this.element.offsetHeight + 'px';\n      this.hintElement.style.width = this.element.offsetWidth + 'px';\n    }\n  };\n\n  InternalTile.prototype.render = function () {\n    var _this = this;\n\n    if (clearTimeout && typeof clearTimeout === 'function') {\n      clearTimeout(this.preventDataOps);\n      this.preventDataOps = window.setTimeout(function () {\n        _this.preventDataOps = undefined;\n      }, 200);\n    }\n\n    var position = this.props.defaultPosition;\n    var resizable = this.props.resizable !== undefined ? this.props.resizable : InternalTile.defaultProps.resizable;\n\n    var hintItemStyles = __assign({\n      gridColumnStart: position.col,\n      gridColumnEnd: \"span \".concat(position.colSpan),\n      gridRowStart: position.row,\n      gridRowEnd: \"span \".concat(position.rowSpan),\n      outline: 'none',\n      order: position.order,\n      display: 'none'\n    }, this.props.hintStyle);\n\n    var itemStyles = {\n      gridColumnStart: position.col,\n      gridColumnEnd: \"span \".concat(position.colSpan),\n      gridRowStart: position.row,\n      gridRowEnd: \"span \".concat(position.rowSpan),\n      order: position.order\n    };\n    var card = React.createElement(\"div\", {\n      ref: function (e) {\n        _this.draggable = e ? {\n          element: e\n        } : null;\n      },\n      className: classNames('k-tilelayout-item k-card', {\n        'k-cursor-grab': this.reorderable\n      }, this.props.className),\n      style: __assign(__assign({\n        height: '100%'\n      }, itemStyles), this.props.style)\n    }, this.props.children, React.createElement(ResizeHandlers, {\n      onPress: this.handlePress,\n      onResize: this.handleResize,\n      resizable: resizable,\n      rtl: this.state.rtl\n    }));\n    return React.createElement(\"div\", {\n      ref: function (e) {\n        _this.element = e;\n      },\n      style: itemStyles\n    }, React.createElement(\"div\", {\n      ref: function (e) {\n        _this.hintElement = e;\n      },\n      style: __assign({\n        position: 'absolute'\n      }, hintItemStyles),\n      className: classNames('k-layout-item-hint', this.props.hintClassName)\n    }), React.createElement(Draggable, {\n      ref: function (e) {\n        _this.draggable = e;\n      },\n      onDrag: this.props.reorderable ? this.handleDrag : undefined,\n      onRelease: this.props.reorderable ? this.handleRelease : undefined,\n      onPress: this.props.reorderable ? this.handlePress : undefined\n    }, card));\n  };\n  /**\n   * @hidden\n   */\n\n\n  InternalTile.prototype.getSnapshotBeforeUpdate = function (_) {\n    this.oldSize = {};\n\n    if (this.dragElement) {\n      this.oldSize = this.dragElement.getBoundingClientRect();\n    }\n\n    return null;\n  };\n  /**\n   * @hidden\n   */\n\n\n  InternalTile.prototype.componentDidUpdate = function (prevProps) {\n    var _this = this;\n\n    var dragElement = this.dragElement;\n\n    if (!dragElement) {\n      return;\n    }\n\n    var newBox = dragElement.getBoundingClientRect();\n    var oldBox = this.oldSize;\n\n    if (this.resizing) {\n      var diffCol = newBox.width - oldBox.width;\n\n      if (this.state.rtl) {\n        var currentM = parseFloat(dragElement.style.marginLeft || '0');\n        dragElement.style.marginLeft = currentM - diffCol + 'px';\n      } else {\n        var currentM = parseFloat(dragElement.style.marginRight || '0');\n        dragElement.style.marginRight = currentM + diffCol + 'px';\n      }\n\n      this.pressXY.x += this.state.rtl ? -diffCol : diffCol;\n      var diffRow = newBox.height - oldBox.height;\n      var currentBot = parseFloat(dragElement.style.height.substring(12));\n      dragElement.style.height = \"calc(100% + \".concat(currentBot + diffRow, \"px)\");\n      this.pressXY.y += diffRow;\n    }\n\n    var deltaX = oldBox.left - newBox.left;\n    var deltaY = oldBox.top - newBox.top;\n\n    if (deltaX === 0 && deltaY === 0) {\n      return;\n    }\n\n    if (this.dragging) {\n      if (prevProps.defaultPosition.order !== this.props.defaultPosition.order || prevProps.defaultPosition.col !== this.props.defaultPosition.col) {\n        this.currentTranslate.x = 0;\n        this.currentTranslate.y = 0;\n        dragElement.style.transform = '';\n      }\n\n      return;\n    }\n\n    if (Math.abs(deltaY) < 15 && Math.abs(deltaX) < 15) {\n      // improves performance and removes random flickering\n      return;\n    }\n\n    requestAnimationFrame(function () {\n      var domNode = _this.element;\n\n      if (!domNode) {\n        return;\n      }\n\n      domNode.style.transform = \"translate(\".concat(deltaX, \"px, \").concat(deltaY, \"px)\");\n      domNode.style.transition = 'transform 0s';\n      requestAnimationFrame(function () {\n        domNode.style.transform = '';\n        domNode.style.transition = \"transform \".concat(ANIMATION_DURATION, \"ms cubic-bezier(0.2, 0, 0, 1) 0s\");\n      });\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  InternalTile.propTypes = {\n    defaultPosition: PropTypes.object.isRequired,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    hintStyle: PropTypes.object,\n    hintClassName: PropTypes.string,\n    header: PropTypes.any,\n    body: PropTypes.any,\n    item: PropTypes.any,\n    resizable: PropTypes.oneOf(['horizontal', 'vertical', true, false]),\n    reorderable: PropTypes.bool\n  };\n  /**\n   * @hidden\n   */\n\n  InternalTile.displayName = 'KendoTileLayoutItem';\n  /**\n   * @hidden\n   */\n\n  InternalTile.defaultProps = {\n    resizable: true,\n    reorderable: true\n  };\n  return InternalTile;\n}(React.Component);\n\nexport { InternalTile };","map":{"version":3,"sources":["C:/Users/vishn/Desktop/AuthInMern/client/node_modules/@progress/kendo-react-layout/dist/es/tilelayout/InternalTile.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","PropTypes","classNames","Draggable","ResizeHandlers","ANIMATION_DURATION","InternalTile","_super","_this","state","rtl","oldSize","draggable","dragging","resizing","element","hintElement","ignoreDrag","pressOffset","x","y","pressXY","currentTranslate","preventDataOps","undefined","handleResize","e","q","end","handleRelease","clientX","clientY","dX","direction","dY","dragElement","style","marginLeft","marginRight","height","concat","classList","add","col","row","wrapBox","getBoundingClientRect","width","props","defaultPosition","colSpan","rowSpan","update","index","handlePress","event","originalEvent","zIndex","display","remove","rec","handleDrag","defaultPrevented","preventDefault","transform","transition","defineProperty","get","reorderable","defaultProps","enumerable","configurable","componentDidMount","getComputedStyle","setState","offsetHeight","offsetWidth","render","clearTimeout","window","setTimeout","position","resizable","hintItemStyles","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","outline","order","hintStyle","itemStyles","card","createElement","ref","className","children","onPress","onResize","hintClassName","onDrag","onRelease","getSnapshotBeforeUpdate","_","componentDidUpdate","prevProps","newBox","oldBox","diffCol","currentM","parseFloat","diffRow","currentBot","substring","deltaX","left","deltaY","top","Math","abs","requestAnimationFrame","domNode","propTypes","object","isRequired","string","header","any","body","item","oneOf","bool","displayName","Component"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,QAAI,OAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,KAAK,IAArC,EACI,MAAM,IAAIS,SAAJ,CAAc,yBAAyBC,MAAM,CAACV,CAAD,CAA/B,GAAqC,+BAAnD,CAAN;AACJF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASW,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBb,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACY,MAAP,CAAcb,CAAd,CAAb,IAAiCW,EAAE,CAACL,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIK,EAAJ,EAA7D,CAAd;AACH,GAND;AAOH,CAd2C,EAA5C;;AAeA,IAAIG,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGb,MAAM,CAACc,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAIb,CAAT,IAAcY,CAAd,EAAiB,IAAIhB,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCS,CAArC,EAAwCZ,CAAxC,CAAJ,EACbW,CAAC,CAACX,CAAD,CAAD,GAAOY,CAAC,CAACZ,CAAD,CAAR;AACP;;AACD,WAAOW,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACQ,KAAT,CAAe,IAAf,EAAqBF,SAArB,CAAP;AACH,CAVD;;AAWA,OAAO,KAAKG,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,8BAAtC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA;AACA;AACA;;AACA,IAAIC,kBAAkB,GAAG,GAAzB;AACA;AACA;AACA;;AACA,IAAIC,YAAY;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAChDjC,EAAAA,SAAS,CAACgC,YAAD,EAAeC,MAAf,CAAT;;AACA,WAASD,YAAT,GAAwB;AACpB,QAAIE,KAAK,GAAGD,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACR,KAAP,CAAa,IAAb,EAAmBF,SAAnB,CAAnB,IAAoD,IAAhE;;AACAW,IAAAA,KAAK,CAACC,KAAN,GAAc;AACVC,MAAAA,GAAG,EAAE;AADK,KAAd;AAGAF,IAAAA,KAAK,CAACG,OAAN,GAAgB,EAAhB;AACAH,IAAAA,KAAK,CAACI,SAAN,GAAkB,IAAlB;AACAJ,IAAAA,KAAK,CAACK,QAAN,GAAiB,KAAjB;AACAL,IAAAA,KAAK,CAACM,QAAN,GAAiB,KAAjB;AACAN,IAAAA,KAAK,CAACO,OAAN,GAAgB,IAAhB;AACAP,IAAAA,KAAK,CAACQ,WAAN,GAAoB,IAApB;AACAR,IAAAA,KAAK,CAACS,UAAN,GAAmB,KAAnB;AACAT,IAAAA,KAAK,CAACU,WAAN,GAAoB;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAApB;AACAZ,IAAAA,KAAK,CAACa,OAAN,GAAgB;AAAEF,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAhB;AACAZ,IAAAA,KAAK,CAACc,gBAAN,GAAyB;AAAEH,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAzB;AACAZ,IAAAA,KAAK,CAACe,cAAN,GAAuBC,SAAvB;;AACAhB,IAAAA,KAAK,CAACiB,YAAN,GAAqB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACjC,UAAIA,CAAC,CAACC,GAAN,EAAW;AACPpB,QAAAA,KAAK,CAACqB,aAAN;;AACA;AACH;;AACD,UAAI,CAACrB,KAAK,CAACO,OAAP,IAAkB,CAACP,KAAK,CAACQ,WAA7B,EAA0C;AACtC;AACH;;AACD,UAAIG,CAAC,GAAGO,CAAC,CAACI,OAAV;AACA,UAAIV,CAAC,GAAGM,CAAC,CAACK,OAAV;AACAvB,MAAAA,KAAK,CAACM,QAAN,GAAiB,IAAjB;AACA,UAAIkB,EAAE,GAAG,CAACL,CAAC,CAACM,SAAF,KAAgB,IAAhB,GAAuBd,CAAC,GAAGX,KAAK,CAACa,OAAN,CAAcF,CAAzC,GAA6C,CAA9C,KAAoDX,KAAK,CAACC,KAAN,CAAYC,GAAZ,GAAkB,CAAC,CAAnB,GAAuB,CAA3E,CAAT;AACA,UAAIwB,EAAE,GAAGP,CAAC,CAACM,SAAF,KAAgB,IAAhB,GAAuBb,CAAC,GAAGZ,KAAK,CAACa,OAAN,CAAcD,CAAzC,GAA6C,CAAtD;;AACA,UAAIZ,KAAK,CAAC2B,WAAV,EAAuB;AACnB,YAAI3B,KAAK,CAACC,KAAN,CAAYC,GAAhB,EAAqB;AACjBF,UAAAA,KAAK,CAAC2B,WAAN,CAAkBC,KAAlB,CAAwBC,UAAxB,GAAqC,CAACL,EAAD,GAAM,IAA3C;AACH,SAFD,MAGK;AACDxB,UAAAA,KAAK,CAAC2B,WAAN,CAAkBC,KAAlB,CAAwBE,WAAxB,GAAsC,CAACN,EAAD,GAAM,IAA5C;AACH;;AACDxB,QAAAA,KAAK,CAAC2B,WAAN,CAAkBC,KAAlB,CAAwBG,MAAxB,GAAiC,eAAeC,MAAf,CAAsBN,EAAtB,EAA0B,KAA1B,CAAjC;AACH;;AACD1B,MAAAA,KAAK,CAACQ,WAAN,CAAkByB,SAAlB,CAA4BC,GAA5B,CAAgC,2BAAhC;;AACA,UAAIlC,KAAK,CAACe,cAAV,EAA0B;AACtB;AACH;;AACD,UAAIoB,GAAG,GAAG,CAAV;AACA,UAAIC,GAAG,GAAG,CAAV;;AACA,UAAIC,OAAO,GAAGrC,KAAK,CAACO,OAAN,CAAc+B,qBAAd,EAAd;;AACA,UAAId,EAAE,GAAGa,OAAO,CAACE,KAAR,GAAgBvC,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BC,OAA5C,GAAsD,CAA/D,EAAkE;AAC9DP,QAAAA,GAAG,GAAG,CAAN;AACH;;AACD,UAAIX,EAAE,GAAG,CAACa,OAAO,CAACE,KAAT,GAAiBvC,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BC,OAA7C,GAAuD,IAAhE,EAAsE;AAClEP,QAAAA,GAAG,GAAG,CAAC,CAAP;AACH,OAlCgC,CAmCjC;;;AACA,UAAIT,EAAE,GAAGW,OAAO,CAACN,MAAR,GAAiB/B,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BE,OAA7C,GAAuD,CAAhE,EAAmE;AAC/DP,QAAAA,GAAG,GAAG,CAAN;AACH;;AACD,UAAIV,EAAE,GAAG,CAACW,OAAO,CAACN,MAAT,GAAkB/B,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BE,OAA9C,GAAwD,IAAjE,EAAuE;AACnEP,QAAAA,GAAG,GAAG,CAAC,CAAP;AACH;;AACD,UAAID,GAAG,KAAK,CAAR,IAAaC,GAAG,KAAK,CAAzB,EAA4B;AACxBpC,QAAAA,KAAK,CAACwC,KAAN,CAAYI,MAAZ,CAAmB5C,KAAK,CAACwC,KAAN,CAAYK,KAA/B,EAAsC,CAAtC,EAAyC,CAAzC,EAA4CT,GAA5C,EAAiDD,GAAjD;AACH;AACJ,KA7CD;;AA8CAnC,IAAAA,KAAK,CAAC8C,WAAN,GAAoB,UAAU5B,CAAV,EAAa;AAC7B,UAAI,CAAClB,KAAK,CAAC2B,WAAX,EAAwB;AACpB;AACH;;AACD3B,MAAAA,KAAK,CAACa,OAAN,GAAgB;AACZF,QAAAA,CAAC,EAAEO,CAAC,CAAC6B,KAAF,CAAQzB,OADC;AAEZV,QAAAA,CAAC,EAAEM,CAAC,CAAC6B,KAAF,CAAQxB;AAFC,OAAhB;AAIAvB,MAAAA,KAAK,CAACS,UAAN,GAAmB,KAAnB;;AACA,UAAIT,KAAK,CAACwC,KAAN,CAAY/B,UAAZ,IAA0BT,KAAK,CAACwC,KAAN,CAAY/B,UAAZ,CAAuBS,CAAC,CAAC6B,KAAF,CAAQC,aAA/B,CAA9B,EAA6E;AACzEhD,QAAAA,KAAK,CAACS,UAAN,GAAmB,IAAnB;AACA;AACH;;AACD,UAAIT,KAAK,CAACO,OAAN,IAAiBP,KAAK,CAACQ,WAA3B,EAAwC;AACpCR,QAAAA,KAAK,CAACO,OAAN,CAAcqB,KAAd,CAAoBqB,MAApB,GAA6B,IAA7B;AACAjD,QAAAA,KAAK,CAACQ,WAAN,CAAkBoB,KAAlB,CAAwBsB,OAAxB,GAAkC,OAAlC;AACH;;AACDlD,MAAAA,KAAK,CAAC2B,WAAN,CAAkBM,SAAlB,CAA4BkB,MAA5B,CAAmC,eAAnC;;AACAnD,MAAAA,KAAK,CAAC2B,WAAN,CAAkBM,SAAlB,CAA4BC,GAA5B,CAAgC,mBAAhC;;AACA,UAAIkB,GAAG,GAAGpD,KAAK,CAAC2B,WAAN,CAAkBW,qBAAlB,EAAV;;AACAtC,MAAAA,KAAK,CAACU,WAAN,GAAoB;AAChBC,QAAAA,CAAC,EAAEO,CAAC,CAAC6B,KAAF,CAAQzB,OAAR,GAAkB8B,GAAG,CAACzC,CADT;AAEhBC,QAAAA,CAAC,EAAEM,CAAC,CAAC6B,KAAF,CAAQxB,OAAR,GAAkB6B,GAAG,CAACxC;AAFT,OAApB;AAIH,KAxBD;;AAyBAZ,IAAAA,KAAK,CAACqD,UAAN,GAAmB,UAAUnC,CAAV,EAAa;AAC5B,UAAIlB,KAAK,CAACS,UAAV,EAAsB;AAClB;AACH;;AACD,UAAIkB,WAAW,GAAG3B,KAAK,CAAC2B,WAAxB;;AACA,UAAIT,CAAC,CAAC6B,KAAF,CAAQC,aAAR,CAAsBM,gBAAtB,IAA0C,CAAC3B,WAA/C,EAA4D;AACxD;AACH;;AACD3B,MAAAA,KAAK,CAACK,QAAN,GAAiB,IAAjB;AACAa,MAAAA,CAAC,CAAC6B,KAAF,CAAQC,aAAR,CAAsBO,cAAtB;AACA,UAAIH,GAAG,GAAGzB,WAAW,CAACW,qBAAZ,EAAV;AACAtC,MAAAA,KAAK,CAACc,gBAAN,GAAyB;AACrBH,QAAAA,CAAC,EAAEO,CAAC,CAAC6B,KAAF,CAAQzB,OAAR,GAAkB8B,GAAG,CAACzC,CAAtB,GAA0BX,KAAK,CAACU,WAAN,CAAkBC,CAA5C,GAAgDX,KAAK,CAACc,gBAAN,CAAuBH,CADrD;AAErBC,QAAAA,CAAC,EAAEM,CAAC,CAAC6B,KAAF,CAAQxB,OAAR,GAAkB6B,GAAG,CAACxC,CAAtB,GAA0BZ,KAAK,CAACU,WAAN,CAAkBE,CAA5C,GAAgDZ,KAAK,CAACc,gBAAN,CAAuBF;AAFrD,OAAzB;AAIAe,MAAAA,WAAW,CAACC,KAAZ,CAAkB4B,SAAlB,GAA8B,aAAaxB,MAAb,CAAoBhC,KAAK,CAACc,gBAAN,CAAuBH,CAA3C,EAA8C,MAA9C,EAAsDqB,MAAtD,CAA6DhC,KAAK,CAACc,gBAAN,CAAuBF,CAApF,EAAuF,KAAvF,CAA9B;AACAe,MAAAA,WAAW,CAACC,KAAZ,CAAkB6B,UAAlB,GAA+B,cAA/B;;AACA,UAAIzD,KAAK,CAACe,cAAV,EAA0B;AACtB;AACH;;AACD,UAAIoB,GAAG,GAAG,CAAV;AACA,UAAIC,GAAG,GAAG,CAAV;;AACA,UAAIpC,KAAK,CAACc,gBAAN,CAAuBF,CAAvB,GAA2B,MAAMwC,GAAG,CAACrB,MAAV,GAAmB/B,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BE,OAA9E,EAAuF;AACnFP,QAAAA,GAAG,GAAG,CAAN;AACH;;AACD,UAAIpC,KAAK,CAACc,gBAAN,CAAuBF,CAAvB,GAA2B,MAAM,CAACwC,GAAG,CAACrB,MAAX,GAAoB/B,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BE,OAA/E,EAAwF;AACpFP,QAAAA,GAAG,GAAG,CAAC,CAAP;AACH;;AACD,UAAIpC,KAAK,CAACc,gBAAN,CAAuBH,CAAvB,GAA2B,MAAMyC,GAAG,CAACb,KAAV,GAAkBvC,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BC,OAA7E,EAAsF;AAClFP,QAAAA,GAAG,GAAG,CAAN;AACH;;AACD,UAAInC,KAAK,CAACc,gBAAN,CAAuBH,CAAvB,GAA2B,MAAM,CAACyC,GAAG,CAACb,KAAX,GAAmBvC,KAAK,CAACwC,KAAN,CAAYC,eAAZ,CAA4BC,OAA9E,EAAuF;AACnFP,QAAAA,GAAG,GAAG,CAAC,CAAP;AACH;;AACDnC,MAAAA,KAAK,CAACwC,KAAN,CAAYI,MAAZ,CAAmB5C,KAAK,CAACwC,KAAN,CAAYK,KAA/B,EAAsCT,GAAtC,EAA2CpC,KAAK,CAACC,KAAN,CAAYC,GAAZ,GAAkB,CAACiC,GAAnB,GAAyBA,GAApE,EAAyE,CAAzE,EAA4E,CAA5E;AACH,KAnCD;;AAoCAnC,IAAAA,KAAK,CAACqB,aAAN,GAAsB,YAAY;AAC9BrB,MAAAA,KAAK,CAACK,QAAN,GAAiBL,KAAK,CAACM,QAAN,GAAiB,KAAlC;AACAN,MAAAA,KAAK,CAACc,gBAAN,GAAyB;AAAEH,QAAAA,CAAC,EAAE,CAAL;AAAQC,QAAAA,CAAC,EAAE;AAAX,OAAzB;;AACA,UAAIZ,KAAK,CAACO,OAAN,IAAiBP,KAAK,CAACQ,WAA3B,EAAwC;AACpCR,QAAAA,KAAK,CAACO,OAAN,CAAcqB,KAAd,CAAoBqB,MAApB,GAA6B,GAA7B;;AACAjD,QAAAA,KAAK,CAACQ,WAAN,CAAkByB,SAAlB,CAA4BkB,MAA5B,CAAmC,2BAAnC;;AACAnD,QAAAA,KAAK,CAACQ,WAAN,CAAkBoB,KAAlB,CAAwBsB,OAAxB,GAAkC,MAAlC;AACH;;AACD,UAAIvB,WAAW,GAAG3B,KAAK,CAAC2B,WAAxB;;AACA,UAAIA,WAAJ,EAAiB;AACbA,QAAAA,WAAW,CAACC,KAAZ,CAAkB4B,SAAlB,GAA8B,qBAA9B;AACA7B,QAAAA,WAAW,CAACC,KAAZ,CAAkB6B,UAAlB,GAA+B,aAAazB,MAAb,CAAoBnC,kBAApB,EAAwC,kCAAxC,CAA/B;AACA8B,QAAAA,WAAW,CAACC,KAAZ,CAAkBE,WAAlB,GAAgC,KAAhC;AACAH,QAAAA,WAAW,CAACC,KAAZ,CAAkBC,UAAlB,GAA+B,KAA/B;AACAF,QAAAA,WAAW,CAACC,KAAZ,CAAkBG,MAAlB,GAA2B,MAA3B;AACAJ,QAAAA,WAAW,CAACM,SAAZ,CAAsBkB,MAAtB,CAA6B,mBAA7B;AACAxB,QAAAA,WAAW,CAACM,SAAZ,CAAsBC,GAAtB,CAA0B,eAA1B;AACH;AACJ,KAlBD;;AAmBA,WAAOlC,KAAP;AACH;;AACD9B,EAAAA,MAAM,CAACwF,cAAP,CAAsB5D,YAAY,CAACvB,SAAnC,EAA8C,aAA9C,EAA6D;AACzDoF,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKnB,KAAL,CAAWoB,WAAX,KAA2B5C,SAA3B,GAAuC,KAAKwB,KAAL,CAAWoB,WAAlD,GAAgE9D,YAAY,CAAC+D,YAAb,CAA0BD,WAAjG;AACH,KAHwD;AAIzDE,IAAAA,UAAU,EAAE,KAJ6C;AAKzDC,IAAAA,YAAY,EAAE;AAL2C,GAA7D;AAOA7F,EAAAA,MAAM,CAACwF,cAAP,CAAsB5D,YAAY,CAACvB,SAAnC,EAA8C,aAA9C,EAA6D;AACzDoF,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKvD,SAAL,GAAiB,KAAKA,SAAL,CAAeG,OAAhC,GAA0CS,SAAjD;AACH,KAHwD;AAIzD8C,IAAAA,UAAU,EAAE,KAJ6C;AAKzDC,IAAAA,YAAY,EAAE;AAL2C,GAA7D;;AAOAjE,EAAAA,YAAY,CAACvB,SAAb,CAAuByF,iBAAvB,GAA2C,YAAY;AACnD,QAAI,CAAC,KAAKzD,OAAV,EAAmB;AACf;AACH;;AACD,QAAI0D,gBAAgB,CAAC,KAAK1D,OAAN,CAAhB,CAA+BkB,SAA/B,KAA6C,KAAjD,EAAwD;AACpD,WAAKyC,QAAL,CAAc;AACVhE,QAAAA,GAAG,EAAE;AADK,OAAd;AAGH;;AACD,QAAI,KAAKM,WAAT,EAAsB;AAClB,WAAKA,WAAL,CAAiBoB,KAAjB,CAAuBG,MAAvB,GAAgC,KAAKxB,OAAL,CAAa4D,YAAb,GAA4B,IAA5D;AACA,WAAK3D,WAAL,CAAiBoB,KAAjB,CAAuBW,KAAvB,GAA+B,KAAKhC,OAAL,CAAa6D,WAAb,GAA2B,IAA1D;AACH;AACJ,GAbD;;AAcAtE,EAAAA,YAAY,CAACvB,SAAb,CAAuB8F,MAAvB,GAAgC,YAAY;AACxC,QAAIrE,KAAK,GAAG,IAAZ;;AACA,QAAIsE,YAAY,IAAI,OAAQA,YAAR,KAA0B,UAA9C,EAA0D;AACtDA,MAAAA,YAAY,CAAC,KAAKvD,cAAN,CAAZ;AACA,WAAKA,cAAL,GAAsBwD,MAAM,CAACC,UAAP,CAAkB,YAAY;AAAExE,QAAAA,KAAK,CAACe,cAAN,GAAuBC,SAAvB;AAAmC,OAAnE,EAAqE,GAArE,CAAtB;AACH;;AACD,QAAIyD,QAAQ,GAAG,KAAKjC,KAAL,CAAWC,eAA1B;AACA,QAAIiC,SAAS,GAAG,KAAKlC,KAAL,CAAWkC,SAAX,KAAyB1D,SAAzB,GAAqC,KAAKwB,KAAL,CAAWkC,SAAhD,GAA4D5E,YAAY,CAAC+D,YAAb,CAA0Ba,SAAtG;;AACA,QAAIC,cAAc,GAAG5F,QAAQ,CAAC;AAAE6F,MAAAA,eAAe,EAAEH,QAAQ,CAACtC,GAA5B;AAAiC0C,MAAAA,aAAa,EAAE,QAAQ7C,MAAR,CAAeyC,QAAQ,CAAC/B,OAAxB,CAAhD;AAAkFoC,MAAAA,YAAY,EAAEL,QAAQ,CAACrC,GAAzG;AAA8G2C,MAAAA,UAAU,EAAE,QAAQ/C,MAAR,CAAeyC,QAAQ,CAAC9B,OAAxB,CAA1H;AAA4JqC,MAAAA,OAAO,EAAE,MAArK;AAA6KC,MAAAA,KAAK,EAAER,QAAQ,CAACQ,KAA7L;AAAoM/B,MAAAA,OAAO,EAAE;AAA7M,KAAD,EAAwN,KAAKV,KAAL,CAAW0C,SAAnO,CAA7B;;AACA,QAAIC,UAAU,GAAG;AACbP,MAAAA,eAAe,EAAEH,QAAQ,CAACtC,GADb;AAEb0C,MAAAA,aAAa,EAAE,QAAQ7C,MAAR,CAAeyC,QAAQ,CAAC/B,OAAxB,CAFF;AAGboC,MAAAA,YAAY,EAAEL,QAAQ,CAACrC,GAHV;AAIb2C,MAAAA,UAAU,EAAE,QAAQ/C,MAAR,CAAeyC,QAAQ,CAAC9B,OAAxB,CAJC;AAKbsC,MAAAA,KAAK,EAAER,QAAQ,CAACQ;AALH,KAAjB;AAOA,QAAIG,IAAI,GAAI5F,KAAK,CAAC6F,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,GAAG,EAAE,UAAUpE,CAAV,EAAa;AAAElB,QAAAA,KAAK,CAACI,SAAN,GAAkBc,CAAC,GAAI;AAAEX,UAAAA,OAAO,EAAEW;AAAX,SAAJ,GAAsB,IAAzC;AAAgD,OAAtE;AAAwEqE,MAAAA,SAAS,EAAE7F,UAAU,CAAC,0BAAD,EAA6B;AAAE,yBAAiB,KAAKkE;AAAxB,OAA7B,EAAoE,KAAKpB,KAAL,CAAW+C,SAA/E,CAA7F;AAAwL3D,MAAAA,KAAK,EAAE7C,QAAQ,CAACA,QAAQ,CAAC;AAAEgD,QAAAA,MAAM,EAAE;AAAV,OAAD,EAAqBoD,UAArB,CAAT,EAA2C,KAAK3C,KAAL,CAAWZ,KAAtD;AAAvM,KAA3B,EACR,KAAKY,KAAL,CAAWgD,QADH,EAERhG,KAAK,CAAC6F,aAAN,CAAoBzF,cAApB,EAAoC;AAAE6F,MAAAA,OAAO,EAAE,KAAK3C,WAAhB;AAA6B4C,MAAAA,QAAQ,EAAE,KAAKzE,YAA5C;AAA0DyD,MAAAA,SAAS,EAAEA,SAArE;AAAgFxE,MAAAA,GAAG,EAAE,KAAKD,KAAL,CAAWC;AAAhG,KAApC,CAFQ,CAAZ;AAGA,WAAQV,KAAK,CAAC6F,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,GAAG,EAAE,UAAUpE,CAAV,EAAa;AAAElB,QAAAA,KAAK,CAACO,OAAN,GAAgBW,CAAhB;AAAoB,OAA1C;AAA4CU,MAAAA,KAAK,EAAEuD;AAAnD,KAA3B,EACJ3F,KAAK,CAAC6F,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,GAAG,EAAE,UAAUpE,CAAV,EAAa;AAAElB,QAAAA,KAAK,CAACQ,WAAN,GAAoBU,CAApB;AAAwB,OAA9C;AAAgDU,MAAAA,KAAK,EAAE7C,QAAQ,CAAC;AAAE0F,QAAAA,QAAQ,EAAE;AAAZ,OAAD,EAA2BE,cAA3B,CAA/D;AAA2GY,MAAAA,SAAS,EAAE7F,UAAU,CAAC,oBAAD,EAAuB,KAAK8C,KAAL,CAAWmD,aAAlC;AAAhI,KAA3B,CADI,EAEJnG,KAAK,CAAC6F,aAAN,CAAoB1F,SAApB,EAA+B;AAAE2F,MAAAA,GAAG,EAAE,UAAUpE,CAAV,EAAa;AAAElB,QAAAA,KAAK,CAACI,SAAN,GAAkBc,CAAlB;AAAsB,OAA5C;AAA8C0E,MAAAA,MAAM,EAAE,KAAKpD,KAAL,CAAWoB,WAAX,GAAyB,KAAKP,UAA9B,GAA2CrC,SAAjG;AAA4G6E,MAAAA,SAAS,EAAE,KAAKrD,KAAL,CAAWoB,WAAX,GAAyB,KAAKvC,aAA9B,GAA8CL,SAArK;AAAgLyE,MAAAA,OAAO,EAAE,KAAKjD,KAAL,CAAWoB,WAAX,GAAyB,KAAKd,WAA9B,GAA4C9B;AAArO,KAA/B,EAAiRoE,IAAjR,CAFI,CAAR;AAGH,GAtBD;AAuBA;AACJ;AACA;;;AACItF,EAAAA,YAAY,CAACvB,SAAb,CAAuBuH,uBAAvB,GAAiD,UAAUC,CAAV,EAAa;AAC1D,SAAK5F,OAAL,GAAe,EAAf;;AACA,QAAI,KAAKwB,WAAT,EAAsB;AAClB,WAAKxB,OAAL,GAAe,KAAKwB,WAAL,CAAiBW,qBAAjB,EAAf;AACH;;AACD,WAAO,IAAP;AACH,GAND;AAOA;AACJ;AACA;;;AACIxC,EAAAA,YAAY,CAACvB,SAAb,CAAuByH,kBAAvB,GAA4C,UAAUC,SAAV,EAAqB;AAC7D,QAAIjG,KAAK,GAAG,IAAZ;;AACA,QAAI2B,WAAW,GAAG,KAAKA,WAAvB;;AACA,QAAI,CAACA,WAAL,EAAkB;AACd;AACH;;AACD,QAAIuE,MAAM,GAAGvE,WAAW,CAACW,qBAAZ,EAAb;AACA,QAAI6D,MAAM,GAAG,KAAKhG,OAAlB;;AACA,QAAI,KAAKG,QAAT,EAAmB;AACf,UAAI8F,OAAO,GAAGF,MAAM,CAAC3D,KAAP,GAAe4D,MAAM,CAAC5D,KAApC;;AACA,UAAI,KAAKtC,KAAL,CAAWC,GAAf,EAAoB;AAChB,YAAImG,QAAQ,GAAGC,UAAU,CAAC3E,WAAW,CAACC,KAAZ,CAAkBC,UAAlB,IAAgC,GAAjC,CAAzB;AACAF,QAAAA,WAAW,CAACC,KAAZ,CAAkBC,UAAlB,GAAgCwE,QAAQ,GAAGD,OAAZ,GAAuB,IAAtD;AACH,OAHD,MAIK;AACD,YAAIC,QAAQ,GAAGC,UAAU,CAAC3E,WAAW,CAACC,KAAZ,CAAkBE,WAAlB,IAAiC,GAAlC,CAAzB;AACAH,QAAAA,WAAW,CAACC,KAAZ,CAAkBE,WAAlB,GAAiCuE,QAAQ,GAAGD,OAAZ,GAAuB,IAAvD;AACH;;AACD,WAAKvF,OAAL,CAAaF,CAAb,IAAkB,KAAKV,KAAL,CAAWC,GAAX,GAAiB,CAACkG,OAAlB,GAA4BA,OAA9C;AACA,UAAIG,OAAO,GAAGL,MAAM,CAACnE,MAAP,GAAgBoE,MAAM,CAACpE,MAArC;AACA,UAAIyE,UAAU,GAAGF,UAAU,CAAC3E,WAAW,CAACC,KAAZ,CAAkBG,MAAlB,CAAyB0E,SAAzB,CAAmC,EAAnC,CAAD,CAA3B;AACA9E,MAAAA,WAAW,CAACC,KAAZ,CAAkBG,MAAlB,GAA2B,eAAeC,MAAf,CAAuBwE,UAAU,GAAGD,OAApC,EAA8C,KAA9C,CAA3B;AACA,WAAK1F,OAAL,CAAaD,CAAb,IAAkB2F,OAAlB;AACH;;AACD,QAAIG,MAAM,GAAGP,MAAM,CAACQ,IAAP,GAAcT,MAAM,CAACS,IAAlC;AACA,QAAIC,MAAM,GAAGT,MAAM,CAACU,GAAP,GAAaX,MAAM,CAACW,GAAjC;;AACA,QAAIH,MAAM,KAAK,CAAX,IAAgBE,MAAM,KAAK,CAA/B,EAAkC;AAC9B;AACH;;AACD,QAAI,KAAKvG,QAAT,EAAmB;AACf,UAAK4F,SAAS,CAACxD,eAAV,CAA0BwC,KAA1B,KAAoC,KAAKzC,KAAL,CAAWC,eAAX,CAA2BwC,KAA/D,IACDgB,SAAS,CAACxD,eAAV,CAA0BN,GAA1B,KAAkC,KAAKK,KAAL,CAAWC,eAAX,CAA2BN,GADjE,EACuE;AACnE,aAAKrB,gBAAL,CAAsBH,CAAtB,GAA0B,CAA1B;AACA,aAAKG,gBAAL,CAAsBF,CAAtB,GAA0B,CAA1B;AACAe,QAAAA,WAAW,CAACC,KAAZ,CAAkB4B,SAAlB,GAA8B,EAA9B;AACH;;AACD;AACH;;AACD,QAAIsD,IAAI,CAACC,GAAL,CAASH,MAAT,IAAmB,EAAnB,IAAyBE,IAAI,CAACC,GAAL,CAASL,MAAT,IAAmB,EAAhD,EAAoD;AAChD;AACA;AACH;;AACDM,IAAAA,qBAAqB,CAAC,YAAY;AAC9B,UAAIC,OAAO,GAAGjH,KAAK,CAACO,OAApB;;AACA,UAAI,CAAC0G,OAAL,EAAc;AACV;AACH;;AACDA,MAAAA,OAAO,CAACrF,KAAR,CAAc4B,SAAd,GAA0B,aAAaxB,MAAb,CAAoB0E,MAApB,EAA4B,MAA5B,EAAoC1E,MAApC,CAA2C4E,MAA3C,EAAmD,KAAnD,CAA1B;AACAK,MAAAA,OAAO,CAACrF,KAAR,CAAc6B,UAAd,GAA2B,cAA3B;AACAuD,MAAAA,qBAAqB,CAAC,YAAY;AAC9BC,QAAAA,OAAO,CAACrF,KAAR,CAAc4B,SAAd,GAA0B,EAA1B;AACAyD,QAAAA,OAAO,CAACrF,KAAR,CAAc6B,UAAd,GAA2B,aAAazB,MAAb,CAAoBnC,kBAApB,EAAwC,kCAAxC,CAA3B;AACH,OAHoB,CAArB;AAIH,KAXoB,CAArB;AAYH,GAtDD;AAuDA;AACJ;AACA;;;AACIC,EAAAA,YAAY,CAACoH,SAAb,GAAyB;AACrBzE,IAAAA,eAAe,EAAEhD,SAAS,CAAC0H,MAAV,CAAiBC,UADb;AAErBxF,IAAAA,KAAK,EAAEnC,SAAS,CAAC0H,MAFI;AAGrB5B,IAAAA,SAAS,EAAE9F,SAAS,CAAC4H,MAHA;AAIrBnC,IAAAA,SAAS,EAAEzF,SAAS,CAAC0H,MAJA;AAKrBxB,IAAAA,aAAa,EAAElG,SAAS,CAAC4H,MALJ;AAMrBC,IAAAA,MAAM,EAAE7H,SAAS,CAAC8H,GANG;AAOrBC,IAAAA,IAAI,EAAE/H,SAAS,CAAC8H,GAPK;AAQrBE,IAAAA,IAAI,EAAEhI,SAAS,CAAC8H,GARK;AASrB7C,IAAAA,SAAS,EAAEjF,SAAS,CAACiI,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,EAA2B,IAA3B,EAAiC,KAAjC,CAAhB,CATU;AAUrB9D,IAAAA,WAAW,EAAEnE,SAAS,CAACkI;AAVF,GAAzB;AAYA;AACJ;AACA;;AACI7H,EAAAA,YAAY,CAAC8H,WAAb,GAA2B,qBAA3B;AACA;AACJ;AACA;;AACI9H,EAAAA,YAAY,CAAC+D,YAAb,GAA4B;AACxBa,IAAAA,SAAS,EAAE,IADa;AAExBd,IAAAA,WAAW,EAAE;AAFW,GAA5B;AAIA,SAAO9D,YAAP;AACH,CApSiC,CAoShCN,KAAK,CAACqI,SApS0B,CAAlC;;AAqSA,SAAS/H,YAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Draggable } from '@progress/kendo-react-common';\nimport { ResizeHandlers } from './ResizeHandlers';\n/**\n * @hidden\n */\nvar ANIMATION_DURATION = 200;\n/**\n * @hidden\n */\nvar InternalTile = /** @class */ (function (_super) {\n    __extends(InternalTile, _super);\n    function InternalTile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            rtl: false\n        };\n        _this.oldSize = {};\n        _this.draggable = null;\n        _this.dragging = false;\n        _this.resizing = false;\n        _this.element = null;\n        _this.hintElement = null;\n        _this.ignoreDrag = false;\n        _this.pressOffset = { x: 0, y: 0 };\n        _this.pressXY = { x: 0, y: 0 };\n        _this.currentTranslate = { x: 0, y: 0 };\n        _this.preventDataOps = undefined;\n        _this.handleResize = function (e, q) {\n            if (q.end) {\n                _this.handleRelease();\n                return;\n            }\n            if (!_this.element || !_this.hintElement) {\n                return;\n            }\n            var x = e.clientX;\n            var y = e.clientY;\n            _this.resizing = true;\n            var dX = (q.direction !== 'ns' ? x - _this.pressXY.x : 0) * (_this.state.rtl ? -1 : 1);\n            var dY = q.direction !== 'ew' ? y - _this.pressXY.y : 0;\n            if (_this.dragElement) {\n                if (_this.state.rtl) {\n                    _this.dragElement.style.marginLeft = -dX + 'px';\n                }\n                else {\n                    _this.dragElement.style.marginRight = -dX + 'px';\n                }\n                _this.dragElement.style.height = \"calc(100% + \".concat(dY, \"px)\");\n            }\n            _this.hintElement.classList.add('k-layout-item-hint-resize');\n            if (_this.preventDataOps) {\n                return;\n            }\n            var col = 0;\n            var row = 0;\n            var wrapBox = _this.element.getBoundingClientRect();\n            if (dX > wrapBox.width / _this.props.defaultPosition.colSpan / 3) {\n                col = 1;\n            }\n            if (dX < -wrapBox.width / _this.props.defaultPosition.colSpan / 1.25) {\n                col = -1;\n            }\n            // vertical\n            if (dY > wrapBox.height / _this.props.defaultPosition.rowSpan / 3) {\n                row = 1;\n            }\n            if (dY < -wrapBox.height / _this.props.defaultPosition.rowSpan / 1.25) {\n                row = -1;\n            }\n            if (col !== 0 || row !== 0) {\n                _this.props.update(_this.props.index, 0, 0, row, col);\n            }\n        };\n        _this.handlePress = function (e) {\n            if (!_this.dragElement) {\n                return;\n            }\n            _this.pressXY = {\n                x: e.event.clientX,\n                y: e.event.clientY\n            };\n            _this.ignoreDrag = false;\n            if (_this.props.ignoreDrag && _this.props.ignoreDrag(e.event.originalEvent)) {\n                _this.ignoreDrag = true;\n                return;\n            }\n            if (_this.element && _this.hintElement) {\n                _this.element.style.zIndex = '10';\n                _this.hintElement.style.display = 'block';\n            }\n            _this.dragElement.classList.remove('k-cursor-grab');\n            _this.dragElement.classList.add('k-cursor-grabbing');\n            var rec = _this.dragElement.getBoundingClientRect();\n            _this.pressOffset = {\n                x: e.event.clientX - rec.x,\n                y: e.event.clientY - rec.y\n            };\n        };\n        _this.handleDrag = function (e) {\n            if (_this.ignoreDrag) {\n                return;\n            }\n            var dragElement = _this.dragElement;\n            if (e.event.originalEvent.defaultPrevented || !dragElement) {\n                return;\n            }\n            _this.dragging = true;\n            e.event.originalEvent.preventDefault();\n            var rec = dragElement.getBoundingClientRect();\n            _this.currentTranslate = {\n                x: e.event.clientX - rec.x - _this.pressOffset.x + _this.currentTranslate.x,\n                y: e.event.clientY - rec.y - _this.pressOffset.y + _this.currentTranslate.y\n            };\n            dragElement.style.transform = \"translate(\".concat(_this.currentTranslate.x, \"px, \").concat(_this.currentTranslate.y, \"px)\");\n            dragElement.style.transition = 'transform 0s';\n            if (_this.preventDataOps) {\n                return;\n            }\n            var col = 0;\n            var row = 0;\n            if (_this.currentTranslate.y > 0.7 * rec.height / _this.props.defaultPosition.rowSpan) {\n                row = 1;\n            }\n            if (_this.currentTranslate.y < 0.7 * -rec.height / _this.props.defaultPosition.rowSpan) {\n                row = -1;\n            }\n            if (_this.currentTranslate.x > 0.7 * rec.width / _this.props.defaultPosition.colSpan) {\n                col = 1;\n            }\n            if (_this.currentTranslate.x < 0.7 * -rec.width / _this.props.defaultPosition.colSpan) {\n                col = -1;\n            }\n            _this.props.update(_this.props.index, row, _this.state.rtl ? -col : col, 0, 0);\n        };\n        _this.handleRelease = function () {\n            _this.dragging = _this.resizing = false;\n            _this.currentTranslate = { x: 0, y: 0 };\n            if (_this.element && _this.hintElement) {\n                _this.element.style.zIndex = '1';\n                _this.hintElement.classList.remove('k-layout-item-hint-resize');\n                _this.hintElement.style.display = 'none';\n            }\n            var dragElement = _this.dragElement;\n            if (dragElement) {\n                dragElement.style.transform = 'translate(0px, 0px)';\n                dragElement.style.transition = \"transform \".concat(ANIMATION_DURATION, \"ms cubic-bezier(0.2, 0, 0, 1) 0s\");\n                dragElement.style.marginRight = '0px';\n                dragElement.style.marginLeft = '0px';\n                dragElement.style.height = '100%';\n                dragElement.classList.remove('k-cursor-grabbing');\n                dragElement.classList.add('k-cursor-grab');\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(InternalTile.prototype, \"reorderable\", {\n        get: function () {\n            return this.props.reorderable !== undefined ? this.props.reorderable : InternalTile.defaultProps.reorderable;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(InternalTile.prototype, \"dragElement\", {\n        get: function () {\n            return this.draggable ? this.draggable.element : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InternalTile.prototype.componentDidMount = function () {\n        if (!this.element) {\n            return;\n        }\n        if (getComputedStyle(this.element).direction === 'rtl') {\n            this.setState({\n                rtl: true\n            });\n        }\n        if (this.hintElement) {\n            this.hintElement.style.height = this.element.offsetHeight + 'px';\n            this.hintElement.style.width = this.element.offsetWidth + 'px';\n        }\n    };\n    InternalTile.prototype.render = function () {\n        var _this = this;\n        if (clearTimeout && typeof (clearTimeout) === 'function') {\n            clearTimeout(this.preventDataOps);\n            this.preventDataOps = window.setTimeout(function () { _this.preventDataOps = undefined; }, 200);\n        }\n        var position = this.props.defaultPosition;\n        var resizable = this.props.resizable !== undefined ? this.props.resizable : InternalTile.defaultProps.resizable;\n        var hintItemStyles = __assign({ gridColumnStart: position.col, gridColumnEnd: \"span \".concat(position.colSpan), gridRowStart: position.row, gridRowEnd: \"span \".concat(position.rowSpan), outline: 'none', order: position.order, display: 'none' }, this.props.hintStyle);\n        var itemStyles = {\n            gridColumnStart: position.col,\n            gridColumnEnd: \"span \".concat(position.colSpan),\n            gridRowStart: position.row,\n            gridRowEnd: \"span \".concat(position.rowSpan),\n            order: position.order\n        };\n        var card = (React.createElement(\"div\", { ref: function (e) { _this.draggable = e ? ({ element: e }) : null; }, className: classNames('k-tilelayout-item k-card', { 'k-cursor-grab': this.reorderable }, this.props.className), style: __assign(__assign({ height: '100%' }, itemStyles), this.props.style) },\n            this.props.children,\n            React.createElement(ResizeHandlers, { onPress: this.handlePress, onResize: this.handleResize, resizable: resizable, rtl: this.state.rtl })));\n        return (React.createElement(\"div\", { ref: function (e) { _this.element = e; }, style: itemStyles },\n            React.createElement(\"div\", { ref: function (e) { _this.hintElement = e; }, style: __assign({ position: 'absolute' }, hintItemStyles), className: classNames('k-layout-item-hint', this.props.hintClassName) }),\n            React.createElement(Draggable, { ref: function (e) { _this.draggable = e; }, onDrag: this.props.reorderable ? this.handleDrag : undefined, onRelease: this.props.reorderable ? this.handleRelease : undefined, onPress: this.props.reorderable ? this.handlePress : undefined }, card)));\n    };\n    /**\n     * @hidden\n     */\n    InternalTile.prototype.getSnapshotBeforeUpdate = function (_) {\n        this.oldSize = {};\n        if (this.dragElement) {\n            this.oldSize = this.dragElement.getBoundingClientRect();\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    InternalTile.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var dragElement = this.dragElement;\n        if (!dragElement) {\n            return;\n        }\n        var newBox = dragElement.getBoundingClientRect();\n        var oldBox = this.oldSize;\n        if (this.resizing) {\n            var diffCol = newBox.width - oldBox.width;\n            if (this.state.rtl) {\n                var currentM = parseFloat(dragElement.style.marginLeft || '0');\n                dragElement.style.marginLeft = (currentM - diffCol) + 'px';\n            }\n            else {\n                var currentM = parseFloat(dragElement.style.marginRight || '0');\n                dragElement.style.marginRight = (currentM + diffCol) + 'px';\n            }\n            this.pressXY.x += this.state.rtl ? -diffCol : diffCol;\n            var diffRow = newBox.height - oldBox.height;\n            var currentBot = parseFloat(dragElement.style.height.substring(12));\n            dragElement.style.height = \"calc(100% + \".concat((currentBot + diffRow), \"px)\");\n            this.pressXY.y += diffRow;\n        }\n        var deltaX = oldBox.left - newBox.left;\n        var deltaY = oldBox.top - newBox.top;\n        if (deltaX === 0 && deltaY === 0) {\n            return;\n        }\n        if (this.dragging) {\n            if ((prevProps.defaultPosition.order !== this.props.defaultPosition.order ||\n                prevProps.defaultPosition.col !== this.props.defaultPosition.col)) {\n                this.currentTranslate.x = 0;\n                this.currentTranslate.y = 0;\n                dragElement.style.transform = '';\n            }\n            return;\n        }\n        if (Math.abs(deltaY) < 15 && Math.abs(deltaX) < 15) {\n            // improves performance and removes random flickering\n            return;\n        }\n        requestAnimationFrame(function () {\n            var domNode = _this.element;\n            if (!domNode) {\n                return;\n            }\n            domNode.style.transform = \"translate(\".concat(deltaX, \"px, \").concat(deltaY, \"px)\");\n            domNode.style.transition = 'transform 0s';\n            requestAnimationFrame(function () {\n                domNode.style.transform = '';\n                domNode.style.transition = \"transform \".concat(ANIMATION_DURATION, \"ms cubic-bezier(0.2, 0, 0, 1) 0s\");\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    InternalTile.propTypes = {\n        defaultPosition: PropTypes.object.isRequired,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        hintStyle: PropTypes.object,\n        hintClassName: PropTypes.string,\n        header: PropTypes.any,\n        body: PropTypes.any,\n        item: PropTypes.any,\n        resizable: PropTypes.oneOf(['horizontal', 'vertical', true, false]),\n        reorderable: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    InternalTile.displayName = 'KendoTileLayoutItem';\n    /**\n     * @hidden\n     */\n    InternalTile.defaultProps = {\n        resizable: true,\n        reorderable: true\n    };\n    return InternalTile;\n}(React.Component));\nexport { InternalTile };\n"]},"metadata":{},"sourceType":"module"}