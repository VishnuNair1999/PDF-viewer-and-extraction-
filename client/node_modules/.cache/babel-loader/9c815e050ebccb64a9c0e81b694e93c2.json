{"ast":null,"code":"'use client';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport clsx from 'clsx';\nimport mergeRefs from 'merge-refs';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport PageContext from './PageContext.js';\nimport Message from './Message.js';\nimport PageCanvas from './Page/PageCanvas.js';\nimport PageSVG from './Page/PageSVG.js';\nimport TextLayer from './Page/TextLayer.js';\nimport AnnotationLayer from './Page/AnnotationLayer.js';\nimport { cancelRunningTask, isProvided, makePageCallback } from './shared/utils.js';\nimport useDocumentContext from './shared/hooks/useDocumentContext.js';\nimport useResolver from './shared/hooks/useResolver.js';\nimport { eventProps, isClassName, isPageIndex, isPageNumber, isPdf, isRef, isRenderMode, isRotate } from './shared/propTypes.js';\nconst defaultScale = 1;\n\nconst Page = function Page(props) {\n  const documentContext = useDocumentContext();\n  invariant(documentContext, 'Unable to find Document context. Did you wrap <Page /> in <Document />?');\n  const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n\n  const {\n    _className = 'react-pdf__Page',\n    _enableRegisterUnregisterPage = true,\n    canvasBackground,\n    canvasRef,\n    children,\n    className,\n    customRenderer: CustomRenderer,\n    customTextRenderer,\n    devicePixelRatio,\n    error = 'Failed to load the page.',\n    height,\n    inputRef,\n    loading = 'Loading page…',\n    noData = 'No page specified.',\n    onGetAnnotationsError: onGetAnnotationsErrorProps,\n    onGetAnnotationsSuccess: onGetAnnotationsSuccessProps,\n    onGetStructTreeError: onGetStructTreeErrorProps,\n    onGetStructTreeSuccess: onGetStructTreeSuccessProps,\n    onGetTextError: onGetTextErrorProps,\n    onGetTextSuccess: onGetTextSuccessProps,\n    onLoadError: onLoadErrorProps,\n    onLoadSuccess: onLoadSuccessProps,\n    onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps,\n    onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps,\n    onRenderError: onRenderErrorProps,\n    onRenderSuccess: onRenderSuccessProps,\n    onRenderTextLayerError: onRenderTextLayerErrorProps,\n    onRenderTextLayerSuccess: onRenderTextLayerSuccessProps,\n    pageIndex: pageIndexProps,\n    pageNumber: pageNumberProps,\n    pdf,\n    registerPage,\n    renderAnnotationLayer: renderAnnotationLayerProps = true,\n    renderForms = false,\n    renderMode = 'canvas',\n    renderTextLayer: renderTextLayerProps = true,\n    rotate: rotateProps,\n    scale: scaleProps = defaultScale,\n    unregisterPage,\n    width\n  } = mergedProps,\n        otherProps = __rest(mergedProps, [\"_className\", \"_enableRegisterUnregisterPage\", \"canvasBackground\", \"canvasRef\", \"children\", \"className\", \"customRenderer\", \"customTextRenderer\", \"devicePixelRatio\", \"error\", \"height\", \"inputRef\", \"loading\", \"noData\", \"onGetAnnotationsError\", \"onGetAnnotationsSuccess\", \"onGetStructTreeError\", \"onGetStructTreeSuccess\", \"onGetTextError\", \"onGetTextSuccess\", \"onLoadError\", \"onLoadSuccess\", \"onRenderAnnotationLayerError\", \"onRenderAnnotationLayerSuccess\", \"onRenderError\", \"onRenderSuccess\", \"onRenderTextLayerError\", \"onRenderTextLayerSuccess\", \"pageIndex\", \"pageNumber\", \"pdf\", \"registerPage\", \"renderAnnotationLayer\", \"renderForms\", \"renderMode\", \"renderTextLayer\", \"rotate\", \"scale\", \"unregisterPage\", \"width\"]);\n\n  const [pageState, pageDispatch] = useResolver();\n  const {\n    value: page,\n    error: pageError\n  } = pageState;\n  const pageElement = useRef(null);\n  invariant(pdf, 'Attempted to load a page, but no document was specified.');\n  const pageIndex = isProvided(pageNumberProps) ? pageNumberProps - 1 : pageIndexProps !== null && pageIndexProps !== void 0 ? pageIndexProps : null;\n  const pageNumber = pageNumberProps !== null && pageNumberProps !== void 0 ? pageNumberProps : isProvided(pageIndexProps) ? pageIndexProps + 1 : null;\n  const rotate = rotateProps !== null && rotateProps !== void 0 ? rotateProps : page ? page.rotate : null;\n  const scale = useMemo(() => {\n    if (!page) {\n      return null;\n    } // Be default, we'll render page at 100% * scale width.\n\n\n    let pageScale = 1; // Passing scale explicitly null would cause the page not to render\n\n    const scaleWithDefault = scaleProps !== null && scaleProps !== void 0 ? scaleProps : defaultScale; // If width/height is defined, calculate the scale of the page so it could be of desired width.\n\n    if (width || height) {\n      const viewport = page.getViewport({\n        scale: 1,\n        rotation: rotate\n      });\n\n      if (width) {\n        pageScale = width / viewport.width;\n      } else if (height) {\n        pageScale = height / viewport.height;\n      }\n    }\n\n    return scaleWithDefault * pageScale;\n  }, [height, page, rotate, scaleProps, width]);\n\n  function hook() {\n    return () => {\n      if (!isProvided(pageIndex)) {\n        // Impossible, but TypeScript doesn't know that\n        return;\n      }\n\n      if (_enableRegisterUnregisterPage && unregisterPage) {\n        unregisterPage(pageIndex);\n      }\n    };\n  }\n\n  useEffect(hook, [_enableRegisterUnregisterPage, pdf, pageIndex, unregisterPage]);\n  /**\n   * Called when a page is loaded successfully\n   */\n\n  function onLoadSuccess() {\n    if (onLoadSuccessProps) {\n      if (!page || !scale) {\n        // Impossible, but TypeScript doesn't know that\n        return;\n      }\n\n      onLoadSuccessProps(makePageCallback(page, scale));\n    }\n\n    if (_enableRegisterUnregisterPage && registerPage) {\n      if (!isProvided(pageIndex) || !pageElement.current) {\n        // Impossible, but TypeScript doesn't know that\n        return;\n      }\n\n      registerPage(pageIndex, pageElement.current);\n    }\n  }\n  /**\n   * Called when a page failed to load\n   */\n\n\n  function onLoadError() {\n    if (!pageError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n\n    warning(false, pageError.toString());\n\n    if (onLoadErrorProps) {\n      onLoadErrorProps(pageError);\n    }\n  }\n\n  function resetPage() {\n    pageDispatch({\n      type: 'RESET'\n    });\n  }\n\n  useEffect(resetPage, [pageDispatch, pdf, pageIndex]);\n\n  function loadPage() {\n    if (!pdf || !pageNumber) {\n      return;\n    }\n\n    const cancellable = makeCancellable(pdf.getPage(pageNumber));\n    const runningTask = cancellable;\n    cancellable.promise.then(nextPage => {\n      pageDispatch({\n        type: 'RESOLVE',\n        value: nextPage\n      });\n    }).catch(error => {\n      pageDispatch({\n        type: 'REJECT',\n        error\n      });\n    });\n    return () => cancelRunningTask(runningTask);\n  }\n\n  useEffect(loadPage, [pageDispatch, pdf, pageIndex, pageNumber, registerPage]);\n  useEffect(() => {\n    if (page === undefined) {\n      return;\n    }\n\n    if (page === false) {\n      onLoadError();\n      return;\n    }\n\n    onLoadSuccess();\n  }, // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [page, scale]);\n  const childContext = useMemo(() => // Technically there cannot be page without pageIndex, pageNumber, rotate and scale, but TypeScript doesn't know that\n  page && isProvided(pageIndex) && pageNumber && isProvided(rotate) && isProvided(scale) ? {\n    _className,\n    canvasBackground,\n    customTextRenderer,\n    devicePixelRatio,\n    onGetAnnotationsError: onGetAnnotationsErrorProps,\n    onGetAnnotationsSuccess: onGetAnnotationsSuccessProps,\n    onGetStructTreeError: onGetStructTreeErrorProps,\n    onGetStructTreeSuccess: onGetStructTreeSuccessProps,\n    onGetTextError: onGetTextErrorProps,\n    onGetTextSuccess: onGetTextSuccessProps,\n    onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps,\n    onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps,\n    onRenderError: onRenderErrorProps,\n    onRenderSuccess: onRenderSuccessProps,\n    onRenderTextLayerError: onRenderTextLayerErrorProps,\n    onRenderTextLayerSuccess: onRenderTextLayerSuccessProps,\n    page,\n    pageIndex,\n    pageNumber,\n    renderForms,\n    renderTextLayer: renderTextLayerProps,\n    rotate,\n    scale\n  } : null, [_className, canvasBackground, customTextRenderer, devicePixelRatio, onGetAnnotationsErrorProps, onGetAnnotationsSuccessProps, onGetStructTreeErrorProps, onGetStructTreeSuccessProps, onGetTextErrorProps, onGetTextSuccessProps, onRenderAnnotationLayerErrorProps, onRenderAnnotationLayerSuccessProps, onRenderErrorProps, onRenderSuccessProps, onRenderTextLayerErrorProps, onRenderTextLayerSuccessProps, page, pageIndex, pageNumber, renderForms, renderTextLayerProps, rotate, scale]);\n  const eventProps = useMemo(() => makeEventProps(otherProps, () => page ? scale ? makePageCallback(page, scale) : undefined : page), [otherProps, page, scale]);\n  const pageKey = `${pageIndex}@${scale}/${rotate}`;\n  const pageKeyNoScale = `${pageIndex}/${rotate}`;\n\n  function renderMainLayer() {\n    switch (renderMode) {\n      case 'custom':\n        {\n          invariant(CustomRenderer, `renderMode was set to \"custom\", but no customRenderer was passed.`);\n          return React.createElement(CustomRenderer, {\n            key: `${pageKey}_custom`\n          });\n        }\n\n      case 'none':\n        return null;\n\n      case 'svg':\n        return React.createElement(PageSVG, {\n          key: `${pageKeyNoScale}_svg`\n        });\n\n      case 'canvas':\n      default:\n        return React.createElement(PageCanvas, {\n          key: `${pageKey}_canvas`,\n          canvasRef: canvasRef\n        });\n    }\n  }\n\n  function renderTextLayer() {\n    if (!renderTextLayerProps) {\n      return null;\n    }\n\n    return React.createElement(TextLayer, {\n      key: `${pageKey}_text`\n    });\n  }\n\n  function renderAnnotationLayer() {\n    if (!renderAnnotationLayerProps) {\n      return null;\n    }\n    /**\n     * As of now, PDF.js 2.0.943 returns warnings on unimplemented annotations in SVG mode.\n     * Therefore, as a fallback, we render \"traditional\" AnnotationLayer component.\n     */\n\n\n    return React.createElement(AnnotationLayer, {\n      key: `${pageKey}_annotations`\n    });\n  }\n\n  function renderChildren() {\n    return React.createElement(PageContext.Provider, {\n      value: childContext\n    }, renderMainLayer(), renderTextLayer(), renderAnnotationLayer(), children);\n  }\n\n  function renderContent() {\n    if (!pageNumber) {\n      return React.createElement(Message, {\n        type: \"no-data\"\n      }, typeof noData === 'function' ? noData() : noData);\n    }\n\n    if (pdf === null || page === undefined || page === null) {\n      return React.createElement(Message, {\n        type: \"loading\"\n      }, typeof loading === 'function' ? loading() : loading);\n    }\n\n    if (pdf === false || page === false) {\n      return React.createElement(Message, {\n        type: \"error\"\n      }, typeof error === 'function' ? error() : error);\n    }\n\n    return renderChildren();\n  }\n\n  return React.createElement(\"div\", Object.assign({\n    className: clsx(_className, className),\n    \"data-page-number\": pageNumber,\n    ref: mergeRefs(inputRef, pageElement),\n    style: {\n      ['--scale-factor']: `${scale}`,\n      backgroundColor: canvasBackground || 'white',\n      position: 'relative',\n      minWidth: 'min-content',\n      minHeight: 'min-content'\n    }\n  }, eventProps), renderContent());\n};\n\nconst isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nPage.propTypes = Object.assign(Object.assign({}, eventProps), {\n  canvasBackground: PropTypes.string,\n  canvasRef: isRef,\n  children: PropTypes.node,\n  className: isClassName,\n  customRenderer: PropTypes.func,\n  customTextRenderer: PropTypes.func,\n  devicePixelRatio: PropTypes.number,\n  error: isFunctionOrNode,\n  height: PropTypes.number,\n  imageResourcesPath: PropTypes.string,\n  inputRef: isRef,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  onRenderTextLayerError: PropTypes.func,\n  onRenderTextLayerSuccess: PropTypes.func,\n  pageIndex: isPageIndex,\n  pageNumber: isPageNumber,\n  pdf: isPdf,\n  renderAnnotationLayer: PropTypes.bool,\n  renderForms: PropTypes.bool,\n  renderMode: isRenderMode,\n  renderTextLayer: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  width: PropTypes.number\n});\nexport default Page;","map":{"version":3,"sources":["C:/Users/vishn/Desktop/AuthInMern/client/node_modules/react-pdf/dist/esm/Page.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","useEffect","useMemo","useRef","PropTypes","makeCancellable","makeEventProps","clsx","mergeRefs","invariant","warning","PageContext","Message","PageCanvas","PageSVG","TextLayer","AnnotationLayer","cancelRunningTask","isProvided","makePageCallback","useDocumentContext","useResolver","eventProps","isClassName","isPageIndex","isPageNumber","isPdf","isRef","isRenderMode","isRotate","defaultScale","Page","props","documentContext","mergedProps","assign","_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","CustomRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsErrorProps","onGetAnnotationsSuccess","onGetAnnotationsSuccessProps","onGetStructTreeError","onGetStructTreeErrorProps","onGetStructTreeSuccess","onGetStructTreeSuccessProps","onGetTextError","onGetTextErrorProps","onGetTextSuccess","onGetTextSuccessProps","onLoadError","onLoadErrorProps","onLoadSuccess","onLoadSuccessProps","onRenderAnnotationLayerError","onRenderAnnotationLayerErrorProps","onRenderAnnotationLayerSuccess","onRenderAnnotationLayerSuccessProps","onRenderError","onRenderErrorProps","onRenderSuccess","onRenderSuccessProps","onRenderTextLayerError","onRenderTextLayerErrorProps","onRenderTextLayerSuccess","onRenderTextLayerSuccessProps","pageIndex","pageIndexProps","pageNumber","pageNumberProps","pdf","registerPage","renderAnnotationLayer","renderAnnotationLayerProps","renderForms","renderMode","renderTextLayer","renderTextLayerProps","rotate","rotateProps","scale","scaleProps","unregisterPage","width","otherProps","pageState","pageDispatch","value","page","pageError","pageElement","pageScale","scaleWithDefault","viewport","getViewport","rotation","hook","current","toString","resetPage","type","loadPage","cancellable","getPage","runningTask","promise","then","nextPage","catch","undefined","childContext","pageKey","pageKeyNoScale","renderMainLayer","createElement","key","renderChildren","Provider","renderContent","ref","style","backgroundColor","position","minWidth","minHeight","isFunctionOrNode","oneOfType","func","node","propTypes","string","number","imageResourcesPath","bool"],"mappings":"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","sourcesContent":["'use client';\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport clsx from 'clsx';\nimport mergeRefs from 'merge-refs';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport PageContext from './PageContext.js';\nimport Message from './Message.js';\nimport PageCanvas from './Page/PageCanvas.js';\nimport PageSVG from './Page/PageSVG.js';\nimport TextLayer from './Page/TextLayer.js';\nimport AnnotationLayer from './Page/AnnotationLayer.js';\nimport { cancelRunningTask, isProvided, makePageCallback } from './shared/utils.js';\nimport useDocumentContext from './shared/hooks/useDocumentContext.js';\nimport useResolver from './shared/hooks/useResolver.js';\nimport { eventProps, isClassName, isPageIndex, isPageNumber, isPdf, isRef, isRenderMode, isRotate, } from './shared/propTypes.js';\nconst defaultScale = 1;\nconst Page = function Page(props) {\n    const documentContext = useDocumentContext();\n    invariant(documentContext, 'Unable to find Document context. Did you wrap <Page /> in <Document />?');\n    const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n    const { _className = 'react-pdf__Page', _enableRegisterUnregisterPage = true, canvasBackground, canvasRef, children, className, customRenderer: CustomRenderer, customTextRenderer, devicePixelRatio, error = 'Failed to load the page.', height, inputRef, loading = 'Loading page…', noData = 'No page specified.', onGetAnnotationsError: onGetAnnotationsErrorProps, onGetAnnotationsSuccess: onGetAnnotationsSuccessProps, onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, onGetTextError: onGetTextErrorProps, onGetTextSuccess: onGetTextSuccessProps, onLoadError: onLoadErrorProps, onLoadSuccess: onLoadSuccessProps, onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps, onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps, onRenderError: onRenderErrorProps, onRenderSuccess: onRenderSuccessProps, onRenderTextLayerError: onRenderTextLayerErrorProps, onRenderTextLayerSuccess: onRenderTextLayerSuccessProps, pageIndex: pageIndexProps, pageNumber: pageNumberProps, pdf, registerPage, renderAnnotationLayer: renderAnnotationLayerProps = true, renderForms = false, renderMode = 'canvas', renderTextLayer: renderTextLayerProps = true, rotate: rotateProps, scale: scaleProps = defaultScale, unregisterPage, width } = mergedProps, otherProps = __rest(mergedProps, [\"_className\", \"_enableRegisterUnregisterPage\", \"canvasBackground\", \"canvasRef\", \"children\", \"className\", \"customRenderer\", \"customTextRenderer\", \"devicePixelRatio\", \"error\", \"height\", \"inputRef\", \"loading\", \"noData\", \"onGetAnnotationsError\", \"onGetAnnotationsSuccess\", \"onGetStructTreeError\", \"onGetStructTreeSuccess\", \"onGetTextError\", \"onGetTextSuccess\", \"onLoadError\", \"onLoadSuccess\", \"onRenderAnnotationLayerError\", \"onRenderAnnotationLayerSuccess\", \"onRenderError\", \"onRenderSuccess\", \"onRenderTextLayerError\", \"onRenderTextLayerSuccess\", \"pageIndex\", \"pageNumber\", \"pdf\", \"registerPage\", \"renderAnnotationLayer\", \"renderForms\", \"renderMode\", \"renderTextLayer\", \"rotate\", \"scale\", \"unregisterPage\", \"width\"]);\n    const [pageState, pageDispatch] = useResolver();\n    const { value: page, error: pageError } = pageState;\n    const pageElement = useRef(null);\n    invariant(pdf, 'Attempted to load a page, but no document was specified.');\n    const pageIndex = isProvided(pageNumberProps) ? pageNumberProps - 1 : pageIndexProps !== null && pageIndexProps !== void 0 ? pageIndexProps : null;\n    const pageNumber = pageNumberProps !== null && pageNumberProps !== void 0 ? pageNumberProps : (isProvided(pageIndexProps) ? pageIndexProps + 1 : null);\n    const rotate = rotateProps !== null && rotateProps !== void 0 ? rotateProps : (page ? page.rotate : null);\n    const scale = useMemo(() => {\n        if (!page) {\n            return null;\n        }\n        // Be default, we'll render page at 100% * scale width.\n        let pageScale = 1;\n        // Passing scale explicitly null would cause the page not to render\n        const scaleWithDefault = scaleProps !== null && scaleProps !== void 0 ? scaleProps : defaultScale;\n        // If width/height is defined, calculate the scale of the page so it could be of desired width.\n        if (width || height) {\n            const viewport = page.getViewport({ scale: 1, rotation: rotate });\n            if (width) {\n                pageScale = width / viewport.width;\n            }\n            else if (height) {\n                pageScale = height / viewport.height;\n            }\n        }\n        return scaleWithDefault * pageScale;\n    }, [height, page, rotate, scaleProps, width]);\n    function hook() {\n        return () => {\n            if (!isProvided(pageIndex)) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            if (_enableRegisterUnregisterPage && unregisterPage) {\n                unregisterPage(pageIndex);\n            }\n        };\n    }\n    useEffect(hook, [_enableRegisterUnregisterPage, pdf, pageIndex, unregisterPage]);\n    /**\n     * Called when a page is loaded successfully\n     */\n    function onLoadSuccess() {\n        if (onLoadSuccessProps) {\n            if (!page || !scale) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            onLoadSuccessProps(makePageCallback(page, scale));\n        }\n        if (_enableRegisterUnregisterPage && registerPage) {\n            if (!isProvided(pageIndex) || !pageElement.current) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            registerPage(pageIndex, pageElement.current);\n        }\n    }\n    /**\n     * Called when a page failed to load\n     */\n    function onLoadError() {\n        if (!pageError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, pageError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(pageError);\n        }\n    }\n    function resetPage() {\n        pageDispatch({ type: 'RESET' });\n    }\n    useEffect(resetPage, [pageDispatch, pdf, pageIndex]);\n    function loadPage() {\n        if (!pdf || !pageNumber) {\n            return;\n        }\n        const cancellable = makeCancellable(pdf.getPage(pageNumber));\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextPage) => {\n            pageDispatch({ type: 'RESOLVE', value: nextPage });\n        })\n            .catch((error) => {\n            pageDispatch({ type: 'REJECT', error });\n        });\n        return () => cancelRunningTask(runningTask);\n    }\n    useEffect(loadPage, [pageDispatch, pdf, pageIndex, pageNumber, registerPage]);\n    useEffect(() => {\n        if (page === undefined) {\n            return;\n        }\n        if (page === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, \n    // Ommitted callbacks so they are not called every time they change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [page, scale]);\n    const childContext = useMemo(() => \n    // Technically there cannot be page without pageIndex, pageNumber, rotate and scale, but TypeScript doesn't know that\n    page && isProvided(pageIndex) && pageNumber && isProvided(rotate) && isProvided(scale)\n        ? {\n            _className,\n            canvasBackground,\n            customTextRenderer,\n            devicePixelRatio,\n            onGetAnnotationsError: onGetAnnotationsErrorProps,\n            onGetAnnotationsSuccess: onGetAnnotationsSuccessProps,\n            onGetStructTreeError: onGetStructTreeErrorProps,\n            onGetStructTreeSuccess: onGetStructTreeSuccessProps,\n            onGetTextError: onGetTextErrorProps,\n            onGetTextSuccess: onGetTextSuccessProps,\n            onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps,\n            onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps,\n            onRenderError: onRenderErrorProps,\n            onRenderSuccess: onRenderSuccessProps,\n            onRenderTextLayerError: onRenderTextLayerErrorProps,\n            onRenderTextLayerSuccess: onRenderTextLayerSuccessProps,\n            page,\n            pageIndex,\n            pageNumber,\n            renderForms,\n            renderTextLayer: renderTextLayerProps,\n            rotate,\n            scale,\n        }\n        : null, [\n        _className,\n        canvasBackground,\n        customTextRenderer,\n        devicePixelRatio,\n        onGetAnnotationsErrorProps,\n        onGetAnnotationsSuccessProps,\n        onGetStructTreeErrorProps,\n        onGetStructTreeSuccessProps,\n        onGetTextErrorProps,\n        onGetTextSuccessProps,\n        onRenderAnnotationLayerErrorProps,\n        onRenderAnnotationLayerSuccessProps,\n        onRenderErrorProps,\n        onRenderSuccessProps,\n        onRenderTextLayerErrorProps,\n        onRenderTextLayerSuccessProps,\n        page,\n        pageIndex,\n        pageNumber,\n        renderForms,\n        renderTextLayerProps,\n        rotate,\n        scale,\n    ]);\n    const eventProps = useMemo(() => makeEventProps(otherProps, () => page ? (scale ? makePageCallback(page, scale) : undefined) : page), [otherProps, page, scale]);\n    const pageKey = `${pageIndex}@${scale}/${rotate}`;\n    const pageKeyNoScale = `${pageIndex}/${rotate}`;\n    function renderMainLayer() {\n        switch (renderMode) {\n            case 'custom': {\n                invariant(CustomRenderer, `renderMode was set to \"custom\", but no customRenderer was passed.`);\n                return React.createElement(CustomRenderer, { key: `${pageKey}_custom` });\n            }\n            case 'none':\n                return null;\n            case 'svg':\n                return React.createElement(PageSVG, { key: `${pageKeyNoScale}_svg` });\n            case 'canvas':\n            default:\n                return React.createElement(PageCanvas, { key: `${pageKey}_canvas`, canvasRef: canvasRef });\n        }\n    }\n    function renderTextLayer() {\n        if (!renderTextLayerProps) {\n            return null;\n        }\n        return React.createElement(TextLayer, { key: `${pageKey}_text` });\n    }\n    function renderAnnotationLayer() {\n        if (!renderAnnotationLayerProps) {\n            return null;\n        }\n        /**\n         * As of now, PDF.js 2.0.943 returns warnings on unimplemented annotations in SVG mode.\n         * Therefore, as a fallback, we render \"traditional\" AnnotationLayer component.\n         */\n        return React.createElement(AnnotationLayer, { key: `${pageKey}_annotations` });\n    }\n    function renderChildren() {\n        return (React.createElement(PageContext.Provider, { value: childContext },\n            renderMainLayer(),\n            renderTextLayer(),\n            renderAnnotationLayer(),\n            children));\n    }\n    function renderContent() {\n        if (!pageNumber) {\n            return React.createElement(Message, { type: \"no-data\" }, typeof noData === 'function' ? noData() : noData);\n        }\n        if (pdf === null || page === undefined || page === null) {\n            return (React.createElement(Message, { type: \"loading\" }, typeof loading === 'function' ? loading() : loading));\n        }\n        if (pdf === false || page === false) {\n            return React.createElement(Message, { type: \"error\" }, typeof error === 'function' ? error() : error);\n        }\n        return renderChildren();\n    }\n    return (React.createElement(\"div\", Object.assign({ className: clsx(_className, className), \"data-page-number\": pageNumber, ref: mergeRefs(inputRef, pageElement), style: {\n            ['--scale-factor']: `${scale}`,\n            backgroundColor: canvasBackground || 'white',\n            position: 'relative',\n            minWidth: 'min-content',\n            minHeight: 'min-content',\n        } }, eventProps), renderContent()));\n};\nconst isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nPage.propTypes = Object.assign(Object.assign({}, eventProps), { canvasBackground: PropTypes.string, canvasRef: isRef, children: PropTypes.node, className: isClassName, customRenderer: PropTypes.func, customTextRenderer: PropTypes.func, devicePixelRatio: PropTypes.number, error: isFunctionOrNode, height: PropTypes.number, imageResourcesPath: PropTypes.string, inputRef: isRef, loading: isFunctionOrNode, noData: isFunctionOrNode, onGetTextError: PropTypes.func, onGetTextSuccess: PropTypes.func, onLoadError: PropTypes.func, onLoadSuccess: PropTypes.func, onRenderError: PropTypes.func, onRenderSuccess: PropTypes.func, onRenderTextLayerError: PropTypes.func, onRenderTextLayerSuccess: PropTypes.func, pageIndex: isPageIndex, pageNumber: isPageNumber, pdf: isPdf, renderAnnotationLayer: PropTypes.bool, renderForms: PropTypes.bool, renderMode: isRenderMode, renderTextLayer: PropTypes.bool, rotate: isRotate, scale: PropTypes.number, width: PropTypes.number });\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}